p1
display.brewer.all()
# display.brewer.pal(2, 'Dark2')
# brewer.pal(2, 'Dark2')
}
display.brewer.all()
brewer.pal(9, 'Set3')
display.brewer.pal(9, 'Set3')
display.brewer.pal(12, 'Set3')
display.brewer.pal(15, 'Set3')
display.brewer.pal(12, 'Set3')
display.brewer.pal(12, 'Set3')
brewer.pal(12, 'Set3')
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8) +
scale_colour_manual(values=c("#B3DE69", "#80B1D3", "#FFED6F", "#FB8072")
,
breaks=c("Estimator 1", "Estimator 2", "Estimator 3"))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8) +
scale_colour_manual(values=c("#B3DE69", "#80B1D3", "#FFED6F", "#FB8072"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))
p1
library(paletteer)
nationalparkcolors::Badlands
paletteer_d("nationalparkcolors::Badlands")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8) +
scale_colour_manual(values=c("#7C873EFF", "#5495CFFF", "#F5AF4DFF", "#DB4743FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
display.brewer.all()
display.brewer.pal(9, 'Dark2')
display.brewer.all()
Res_plot$estimator <- factor(Res_plot$estimator,
levels = c("power_IF_simple",
"power_IF_full",
"power_IF_RCT",
"power_naive"
))
levels(Res_plot$estimator) <- c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8)
p1
rm(list=ls())
library(tidyverse)
library(tidyr)
library(ggplot2)
# setwd("C:/Users/gaoyuji/OneDrive - Merck Sharp & Dohme LLC/Documents/GitHub/hybrid_design/R code")
setwd("/Users/jane.gao/Desktop/Hybrid experimental design/5. simulation")
Res <- readRDS("res_02_08.RData")
Res <- bind_rows(Res)
Res$n <- seq(6, 800, by = 2)
Res_plot <-  Res %>%
pivot_longer(
cols = "power_IF_full":"power_IF_simple",
names_to = "estimator",
values_to = "power"
)
Res_plot$estimator <- factor(Res_plot$estimator,
levels = c("power_IF_simple",
"power_IF_full",
"power_IF_RCT",
"power_naive"
))
levels(Res_plot$estimator) <- c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8) +
scale_colour_manual(values=c("#7C873EFF", "#5495CFFF", "#F5AF4DFF", "#DB4743FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))
display.brewer.pal(n = 8, 'Greens')
brewer.pal(n = 8, 'Greens')
# "#41AB5D"
brewer.pal('Greens')[]
brewer.pal(name = 'Greens')
display.brewer.pal(n = 8, 'Blues')
brewer.pal(n = 8, 'Blues')
# "#4292C6"
display.brewer.all()
display.brewer.pal(n = 8, 'Reds')
brewer.pal(n = 8, 'Reds')
# "#FB6A4A"
}
display.brewer.all()
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.8) +
scale_colour_manual(values=c("#41AB5D", "#4292C6", "#F5AF4DFF", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.5) +
scale_colour_manual(values=c("#41AB5D", "#4292C6", "#F5AF4DFF", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#41AB5D", "#4292C6", "#F5AF4DFF", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
display.brewer.all()
display.brewer.pal(n = 8, 'YIOrRd')
display.brewer.pal(n = 8, 'YlOrRd')
brewer.pal(n = 8, 'YlOrRd')
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#41AB5D", "#4292C6", "#FD8D3C", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
display.brewer.all()
p1
display.brewer.pal(n = 8, 'Set1')
brewer.pal(n = 8, 'Set1')
display.brewer.pal(n = 8, 'YlOrBr')
brewer.pal(n = 8, 'YlOrBr')
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#41AB5D", "#4292C6", "#FEC44F", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#4292C6", "#41AB5D", "#FEC44F", "#EF3B2C"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
display.brewer.all()
display.brewer.pal(n = 8, 'YlOrRd')
brewer.pal(n = 8, 'YlOrRd')
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#4292C6", "#41AB5D", "#FEC44F", "#FC4E2A"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
paletteer_d("fishualize::Acanthurus_leucosternon")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#41AB5D", "#FEC44F", "#FC4E2A"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
paletteer_d("fishualize::Acanthostracion_polygonius")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FEC44F", "#FC4E2A"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
paletteer_d("fishualize::Acanthurus_olivaceus")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#FC4E2A"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
paletteer_d("fishualize::Acanthostracion_polygonius_y")
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#BF281BFF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F24C27FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8)
p1
display.brewer.pal(n = 8, 'Blues')
brewer.pal(n = 8, 'Blues')
paletteer_d("fishualize::Acanthostracion_polygonius_y")
display.brewer.pal(n = 8, 'YlOrRd')
brewer.pal(n = 8, 'YlOrRd')
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 25,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 246,
linetype="dashed",
color = "#FC4E2A",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=450, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.5")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 25,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 246,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=450, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.5")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 62,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=450, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 62,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=600, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 53,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=600, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 62,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=600, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 75,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=600, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
rm(list=ls())
library(tidyverse)
library(tidyr)
library(ggplot2)
# setwd("C:/Users/gaoyuji/OneDrive - Merck Sharp & Dohme LLC/Documents/GitHub/hybrid_design/R code")
setwd("/Users/jane.gao/Desktop/Hybrid experimental design/5. simulation")
Res <- readRDS("res_02_08.RData")
Res <- bind_rows(Res)
Res$n <- seq(6, 800, by = 2)
Res_plot <-  Res %>%
pivot_longer(
cols = "power_IF_full":"power_IF_simple",
names_to = "estimator",
values_to = "power"
)
Res_plot$estimator <- factor(Res_plot$estimator,
levels = c("power_IF_simple",
"power_IF_full",
"power_IF_RCT",
"power_naive"
))
levels(Res_plot$estimator) <- c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4")
# check color
{
# display.brewer.all()
# display.brewer.pal(n = 8, 'Reds')
# brewer.pal(n = 8, 'Reds')
# # "#FB6A4A"
#
# display.brewer.pal(n = 8, 'Greens')
# brewer.pal(n = 8, 'Greens')
# # "#41AB5D"
#
# display.brewer.pal(n = 8, 'Blues')
# brewer.pal(n = 8, 'Blues')
# # "#4292C6"
# display.brewer.pal(n = 8, 'YlOrRd')
# brewer.pal(n = 8, 'YlOrRd')
# # "#FEB24C"
# paletteer_d("fishualize::Acanthurus_leucosternon")
# paletteer_d("fishualize::Acanthostracion_polygonius")
# paletteer_d("fishualize::Acanthurus_olivaceus")
# paletteer_d("fishualize::Acanthostracion_polygonius_y")
}
p1 <- ggplot(data = Res_plot, aes(x = n, y = power, colour = estimator)) +
geom_line(size = 0.65) +
scale_colour_manual(values=c("#207CF5FF", "#038C33FF", "#FDC718FF", "#F27127FF"),
breaks=c("Estimator 1", "Estimator 2", "Estimator 3", "Estimator 4"))+
geom_hline(yintercept = 0.8,
linetype="dashed",
color = "#023743FF",
size = 0.8) +
# geom_vline(xintercept= 22,
#            linetype="dashed",
#            color = "#011C40FF",
#            size = 0.8)+
geom_vline(xintercept= 62,
linetype="dashed",
color = "#084594",
size = 0.8)+
# geom_vline(xintercept= 30,
#            linetype="dashed",
#            color = "#05C7F2FF",
#            size = 0.8)+
geom_vline(xintercept= 384,
linetype="dashed",
color = "#99000D",
size = 0.8)+
theme(legend.position = "none")+
labs(x="n", y="Power")+
annotate("text",x=600, y=0.7, label="beta = 0.8",size = 5)+
labs(title= expression(paste("Power When ", tau, " = 0.8, ", pi, " = 0.2")))
p1
ggsave(plot = p1,
width = 5.5,
height = 5,
dpi = 500,
filename = "/Users/jane.gao/Desktop/Hybrid experimental design/5. simulation/plots/power_05.png")
